@model UniversityMvcWebApp.Models.AssignCourse
@{
    ViewBag.Title = "CourseAssign";
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <title>Add Teacher | XU</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!-- Bootstrap Core CSS -->
    <link href="~/Content/DesignComponent/adminTheme/css/bootstrap.min.css" rel='stylesheet' type='text/css' />
    <!-- Custom CSS -->
    <link href="~/Content/DesignComponent/adminTheme/css/style.css" rel='stylesheet' type='text/css' />
    <!-- Graph CSS -->
    <link href="~/Content/DesignComponent/adminTheme/css/lines.css" rel='stylesheet' type='text/css' />
    <link href="~/Content/DesignComponent/adminTheme/css/font-awesome.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="~/Content/DesignComponent/adminTheme/js/jquery.min.js"></script>
    <!----webfonts--->
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700,900' rel='stylesheet' type='text/css'>
    <!---//webfonts--->
    <!-- Nav CSS -->
    <link href="~/Content/DesignComponent/adminTheme/css/custom.css" rel="stylesheet">
    <!-- Metis Menu Plugin JavaScript -->
    <script src="~/Content/DesignComponent/adminTheme/js/metisMenu.min.js"></script>
    <script src="~/Content/DesignComponent/adminTheme/js/custom.js"></script>
    <!-- Graph JavaScript -->
    <script src="~/Content/DesignComponent/adminTheme/js/d3.v3.js"></script>
    <script src="~/Content/DesignComponent/adminTheme/js/rickshaw.js"></script>
    <script src="~/Scripts/jquery-3.3.1.js"></script>
    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

    <link href="~/Content/DesignComponent/css/Site.css" rel="stylesheet" />

    <script>

        $(document).ready(function () {

            $("#DepartmentId").change(function () {

                var departmentId = $("#DepartmentId").val();


                var json = { deptId: departmentId };


                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetAllTeacherByDepartmentId", "Teacher")',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(json),
                    success: function (data) {

                        $("#TeacherId").empty();
                        $("#TeacherId").append('<option value="">--Select Teacher--</option>');

                        $.each(data, function (key, value) {

                            $("#TeacherId").append('<option value ="'+value.Id+'">'+value.Name+'</option>');

                        });

                    }
                });

            });
        });

        //Get Course By Teacher Department Id

        $(document).ready(function () {

            $("#DepartmentId").change(function () {

                var departmentId = $("#DepartmentId").val();


                var json = { deptId: departmentId };


                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetAllCourseByDepartmentId", "Teacher")',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(json),
                    success: function (data) {

                        $("#CourseId").empty();
                        $("#CourseId").append('<option value="">--Select Course--</option>');

                        $.each(data, function (key, value) {

                            $("#CourseId").append('<option value ="' + value.Id + '">' + value.Code + '</option>');

                        });

                    }
                });

            });
        });

        //Get a Teacher

        $(document).ready(function () {

            $("#TeacherId").change(function () {

                var teachId = $("#TeacherId").val();


                var json = { teacherId: teachId };


                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetATeacherByTeacherId", "Teacher")',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(json),
                    success: function (data) {

                        $("#CreditBeTaken").val(data.CreditBeTaken),
                      $("#CreditLeft").val(data.CreditLeft);


                    }
                });

            });
        });

        //Get a Course

        $(document).ready(function () {

            $("#CourseId").change(function () {

                var courId = $("#CourseId").val();


                var json = { courseId: courId };


                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetACourseByCourseId", "Teacher")',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(json),
                    success: function (data) {

                        $("#CourseName").val(data.Name),
                      $("#CourseCredit").val(data.Credit);


                    }
                });

            });
        });

    </script>

</head>
<body>
    <div id="wrapper">
        <!-- Navigation -->
        <nav class="top1 navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="~/Admin/Dashboard">Xoom University</a>
            </div>
            <!-- /.navbar-header -->
            <ul class="nav navbar-nav navbar-right">

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle avatar" data-toggle="dropdown"><img src="~/Content/DesignComponent/adminTheme/images/1.png"><span class="badge"></span></a>
                    <ul class="dropdown-menu">
                        <li class="m_2"><a href="#"><i class="fa fa-user"></i> Profile</a></li>
                        <li class="m_2"><a href="#"><i class="fa fa-wrench"></i> Settings</a></li>
                        <li class="m_2"><a href="#"><i class="fa fa-shield"></i> Lock Profile</a></li>
                        <li class="m_2"><a href="#"><i class="fa fa-lock"></i> Logout</a></li>
                    </ul>
                </li>
            </ul>
            <form class="navbar-form navbar-right">
                <input type="text" class="form-control" value="Search..." onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Search...';}">
            </form>
            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li>
                            <a class="active-menu" href="~/Admin/Dashboard"><i class="fa fa-home nav_icon"> Home</i></a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-tags nav_icon"> Department</i><span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="~/Department/Save"><i class="fa fa-floppy-o nav_icon"> Save Department</i></a>
                                </li>
                                <li>
                                    <a href="~/Department/ViewAll"><i class="fa fa-eye nav_icon"> View Department</i></a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-book nav_icon"> Course</i><span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="~/Course/Save"><i class="fa fa-floppy-o nav_icon"> Save Course</i></a>
                                </li>
                                <li>
                                    <a href="~/Course/ViewAll"><i class="fa fa-eye nav_icon"> View Course Statics</i></a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-briefcase nav_icon"> Teacher</i><span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="~/Teacher/Save"><i class="fa fa-floppy-o nav_icon"> Save Teacher</i></a>
                                </li>
                                <li>
                                    <a href="~/Teacher/AssignCourse"><i class="fa fa-thumb-tack nav_icon"> Course Assign To Teacher</i></a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>

                        <li>
                            <a href="#"><i class="fa fa-users nav_icon"> Student</i><span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="#"><i class="fa fa-floppy-o nav_icon"> Register Student</i></a>
                                </li>
                                <li>
                                    <a href="#"><i class="fa fa-thumb-tack nav_icon"> Enroll Course To Student</i></a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-gavel nav_icon"> Result</i><span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="#"><i class="fa fa-floppy-o nav_icon"> Save Result</i></a>
                                </li>
                                <li>
                                    <a href="#"><i class="fa fa-eye nav_icon"> View Result</i></a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>

                        <li>
                            <a href="#"><i class="fa fa-th-large nav_icon"> Classroom</i><span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="#"><i class="fa fa-thumb-tack nav_icon"> Allocate Classroom</i></a>
                                </li>
                                <li>
                                    <a href="#"><i class="fa fa-eye nav_icon"> View Class Schedule</i></a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-chain-broken nav_icon"> Reset</i><span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="#"><i class="fa fa-ban nav_icon"> Unassign Classroom</i></a>
                                </li>
                                <li>
                                    <a href="#"><i class="fa fa-ban nav_icon"> Unallocate Classroom</i></a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>

                        <li>
                            <a href="#"><i class="fa fa-user nav_icon"> Admin</i><span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="#"><i class="fa fa-user nav_icon"> Profile</i></a>
                                </li>
                                <li>
                                    <a href="#"><i class="fa fa-plus nav_icon"> </i> Create Admin</a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>
                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>
        <div id="page-wrapper">
            <div class="graphs">
                <div class="xs">
                    <div class="alert alert-danger" role="alert">
                        <strong>Course Assign To Teacher!</strong>
                    </div>
                    <div class="tab-content">
                        <div class="tab-pane active" id="horizontal-form">


                            @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "assignCourseForm", @class = "form-horizontal" }))
                            {
                                <div class="form-group">
                                    @Html.LabelFor(x => x.DepartmentId, null, new { @class = "col-sm-2 control-label" })
                                    <div class="col-sm-4">
                                        @Html.DropDownListFor(x => x.DepartmentId, new SelectList(ViewBag.DepartmentList, "Value", "Text"), new { @class = "form-control1" ,id="DepartmentId"})
                                    </div>
                                    <div class="col-sm-3">
                                        @Html.ValidationMessageFor(x => x.DepartmentId, null, new { @class = "help-block" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(x => x.TeacherId, null, new { @class = "col-sm-2 control-label" })
                                    <div class="col-sm-4">
                                        @Html.DropDownListFor(x => x.TeacherId, new SelectList(string.Empty, "Value", "Text"),"--Select Teacher--", new { @class = "form-control1", id = "TeacherId" })

                                    </div>
                                    <div class="col-sm-3">
                                        @Html.ValidationMessageFor(x => x.TeacherId, null, new { @class = "help-block" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(x => x.CreditBeTaken, null, new { @class = "col-sm-2 control-label" })
                                    <div class="col-sm-4">
                                        @Html.TextBoxFor(x => x.CreditBeTaken, null, new { @class = "form-control1"})
                                    </div>
                                    <div class="col-sm-3">
                                        @Html.ValidationMessageFor(x => x.CreditBeTaken, null, new { @class = "help-block" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(x => x.CreditLeft, null, new { @class = "col-sm-2 control-label" })
                                    <div class="col-sm-4">
                                        @Html.TextBoxFor(x => x.CreditLeft, null, new { @class = "form-control1" })
                                    </div>
                                    <div class="col-sm-3">
                                        @Html.ValidationMessageFor(x => x.CreditLeft, null, new { @class = "help-block" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(x => x.CourseId, null, new { @class = "col-sm-2 control-label" })
                                    <div class="col-sm-4">
                                        @Html.DropDownListFor(x => x.CourseId, new SelectList(string.Empty, "Value", "Text"), "--Select Course--", new { @class = "form-control1", id = "CourseId" })
                                    </div>
                                    <div class="col-sm-3">
                                        @Html.ValidationMessageFor(x => x.CourseId, null, new { @class = "help-block" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(x => x.CourseName, null, new { @class = "col-sm-2 control-label" })
                                    <div class="col-sm-4">
                                        @Html.TextBoxFor(x => x.CourseName, null, new { @class = "form-control1"})
                                    </div>
                                    <div class="col-sm-3">
                                        @Html.ValidationMessageFor(x => x.CourseName, null, new { @class = "help-block" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(x => x.CourseCredit, null, new { @class = "col-sm-2 control-label" })
                                    <div class="col-sm-4">
                                        @Html.TextBoxFor(x => x.CourseCredit, null, new { @class = "form-control1" })
                                    </div>
                                    <div class="col-sm-3">
                                        @Html.ValidationMessageFor(x => x.CourseCredit, null, new { @class = "help-block" })
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-8 col-sm-offset-2">
                                        <input class="btn btn-warning btn-warng1" type="submit" value="Save" />
                                    </div>
                                </div>
                            }


                            @if (ViewBag.Message != null)
                            {
                                <text>
                                    <script>
                                        $(document).ready(function () {
                                            alert('@ViewBag.Message');
                                        });
                                    </script>
                                </text>
                            }








                        </div>
                    </div>
                </div>
            </div>
            <!-- /#page-wrapper -->
        </div>
        <!-- /#wrapper -->
        <!-- Nav CSS -->
        <link href="~/Content/DesignComponent/adminTheme/css/custom.css" rel="stylesheet">
        <!-- Metis Menu Plugin JavaScript -->
        <script src="~/Content/DesignComponent/adminTheme/js/metisMenu.min.js"></script>
        <script src="~/Content/DesignComponent/adminTheme/js/custom.js"></script>
        <script src="~/Content/DesignComponent/adminTheme/js/bootstrap.min.js"></script>
    </div>
</body>
</html>
